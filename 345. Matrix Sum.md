## **[345. Matrix Sum](https://projecteuler.net/problem=345)**

### Question
We define the Matrix Sum of a matrix as the maximum possible sum of matrix elements such that 
none of the selected elements share the same row or column.

For example, the Matrix Sum of the matrix below equals 3315 ( = 863 + 383 + 343 + 959 + 767):

![im](./images/p345_1.png)

Find the Matrix Sum of:

![im](./images/p345_2.png)

### Solution

```python
from typing import Tuple

def p345(s):
    m = [[int(y) for y in x.split()] for x in s.split('\n')]
    n = len(m)
    cache = {}

    def f(rows: Tuple, cur_sum: int):
        """
        Walking through matrix m from left to right
            rows:     remaining rows
            cur_sum:  current sum with rows left
        """
        if rows in cache and cache[rows] > cur_sum:
            return

        cache[rows] = cur_sum

        col = n - len(rows)
        for i, row in enumerate(rows):
            f(rows[:i] + rows[i + 1:], cur_sum + m[row][col])

    f(tuple(range(n)), 0)
    return cache[()]
```

### Answer 
`13938`
