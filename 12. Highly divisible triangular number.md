## **[12. Highly divisible triangular number](https://projecteuler.net/problem=12)**

### Question
The sequence of triangle numbers is generated by adding the natural numbers. So the 7th triangle number would be 1 + 2 + 3 + 4 + 5 + 6 + 7 = 28. The first ten terms would be:
1, 3, 6, 10, 15, 21, 28, 36, 45, 55, ...

28 is the first triangle number to have over five divisors. What is the value of the first triangle number to have over five hundred divisors?

### Solution
Useful facts:
- Any two consecutive integers are [coprime](https://simple.wikipedia.org/wiki/Coprime)
- Let the number of divisors function be f, then f(ab) = f(a) * f(b) if a and b are coprime 

```python
def p12(N = 500):

    def f(n):
        """return the number of divisors of n"""
        if n in d: return d[n]
        p, res = 1, 0
        while p * p <= n:
            if n % p == 0:
                res = res + 2 if p * p != n else res + 1
            p += 1
        return res

    n, d = 1, {}
    while True:
        triangle = n * (n + 1) // 2
        if n % 2 == 0:
            d[triangle] = f(n // 2) * f(n + 1)
        else:
            d[triangle] = f((n + 1) // 2) * f(n)
        if d[triangle] > N:
            return triangle
        n += 1
```

### Answer 
`76576500`
